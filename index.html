<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Legal Intake Dashboard</title>
    <!-- 1. Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 2. React Libraries -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- 3. Babel to compile JSX in the browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // Because we are loading React from a CDN, we get 'React' as a global variable.
        // We can get hooks like useState from it.
        const { useState } = React;

        // --- Icon Components ---
        const ClockIcon = () => (
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-orange-500">
            <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
          </svg>
        );

        const CheckCircleIcon = () => (
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-green-500">
            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline>
          </svg>
        );

        const LinkIcon = () => (
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-blue-500">
            <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.72"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.72-1.72"></path>
          </svg>
        );

        const TimerIcon = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-teal-500">
                <line x1="10" y1="2" x2="14" y2="2"></line><line x1="12" y1="14" x2="12" y2="22"></line><circle cx="12" cy="8" r="6"></circle>
            </svg>
        );

        const ChevronDownIcon = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-gray-500">
                <polyline points="6 9 12 15 18 9"></polyline>
            </svg>
        );

        // --- Reusable Components ---

        const DashboardHeader = () => {
          const [buttonText, setButtonText] = useState('+ Create Intake Link');
          const [isCopied, setIsCopied] = useState(false);

          const handleCreateLinkClick = () => {
            const uniqueId = Math.random().toString(36).substring(2, 10);
            const intakeLink = `https://your-chat-app-url.com/intake/${uniqueId}`;
            
            const textArea = document.createElement("textarea");
            textArea.value = intakeLink;
            textArea.style.position = "fixed";
            textArea.style.left = "-9999px";
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            try {
                const successful = document.execCommand('copy');
                if (successful) {
                    setButtonText('Copied!');
                    setIsCopied(true);
                    setTimeout(() => {
                        setButtonText('+ Create Intake Link');
                        setIsCopied(false);
                    }, 2000);
                } else {
                    throw new Error('Copy command was not successful');
                }
            } catch (err) {
                console.error('Failed to copy text: ', err);
            }
            document.body.removeChild(textArea);
          };

          return (
            <header className="flex justify-between items-center p-6 bg-white border-b border-gray-200">
              <div>
                <h1 className="text-2xl font-bold text-gray-800">LegalIntake Dashboard</h1>
                <p className="text-sm text-gray-500">Manage client intake assessments</p>
              </div>
              <div className="flex items-center gap-4">
                <button
                  onClick={handleCreateLinkClick}
                  className={`px-4 py-2 font-semibold rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-200 ${
                    isCopied 
                    ? 'bg-green-500 text-white focus:ring-green-500' 
                    : 'bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500'
                  }`}
                >
                  {buttonText}
                </button>
                <div className="flex items-center gap-3">
                  <div className="w-10 h-10 rounded-full bg-slate-700 flex items-center justify-center text-white font-bold text-lg">
                    SJ
                  </div>
                  <div>
                    <p className="font-semibold text-gray-800">Sarah Johnson</p>
                    <p className="text-xs text-gray-500">Attorney</p>
                  </div>
                </div>
              </div>
            </header>
          );
        };

        const StatCard = ({ title, value, trend, trendColor, icon, footerText }) => (
          <div className="bg-white p-6 rounded-lg shadow-sm border border-gray-200 flex flex-col justify-between">
            <div className="flex justify-between items-start">
              <h3 className="text-sm font-medium text-gray-500">{title}</h3>
              {icon}
            </div>
            <div className="mt-2">
              <p className="text-3xl font-bold text-gray-800">{value}</p>
              {trend && <p className={`text-xs font-semibold mt-1 ${trendColor}`}>{trend}</p>}
            </div>
            {footerText && <p className="text-xs text-gray-400 mt-4">{footerText}</p>}
          </div>
        );

        const RecentAssessmentsTable = () => {
          const mockAssessments = [
            { client: 'Markus Thompson', caseType: 'Corporate Law', priority: 'High', completed: '2025-07-03', status: 'Pending Review' },
            { client: 'Eleanor Vance', caseType: 'Family Law', priority: 'Medium', completed: '2025-07-02', status: 'Completed' },
            { client: 'Johnathan Doe', caseType: 'Real Estate', priority: 'Low', completed: '2025-07-01', status: 'Completed' },
            { client: 'Samantha Riley', caseType: 'Intellectual Property', priority: 'High', completed: '2025-06-30', status: 'Contacted' },
          ];

          const statusStyles = {
            'Pending Review': 'bg-orange-100 text-orange-800',
            'Completed': 'bg-green-100 text-green-800',
            'Contacted': 'bg-blue-100 text-blue-800',
          };

          const priorityStyles = {
            'High': 'text-red-600',
            'Medium': 'text-yellow-600',
            'Low': 'text-green-600',
          };

          return (
            <div className="bg-white p-6 rounded-lg shadow-sm border border-gray-200 mt-8">
              <div className="flex justify-between items-center mb-4">
                <h2 className="text-lg font-semibold text-gray-800">Recent Case Assessments</h2>
                <div className="flex gap-4">
                  <button className="flex items-center gap-2 text-sm font-medium text-gray-700 bg-gray-50 border border-gray-300 px-4 py-2 rounded-lg hover:bg-gray-100">
                    All Practice Areas <ChevronDownIcon />
                  </button>
                  <button className="flex items-center gap-2 text-sm font-medium text-gray-700 bg-gray-50 border border-gray-300 px-4 py-2 rounded-lg hover:bg-gray-100">
                    All Statuses <ChevronDownIcon />
                  </button>
                </div>
              </div>
              <div className="overflow-x-auto">
                <table className="w-full text-sm text-left text-gray-600">
                  <thead className="text-xs text-gray-700 uppercase bg-gray-50">
                    <tr>
                      <th scope="col" className="px-6 py-3">Client</th>
                      <th scope="col" className="px-6 py-3">Case Type</th>
                      <th scope="col" className="px-6 py-3">Priority</th>
                      <th scope="col" className="px-6 py-3">Completed</th>
                      <th scope="col" className="px-6 py-3">Status</th>
                      <th scope="col" className="px-6 py-3">Actions</th>
                    </tr>
                  </thead>
                  <tbody>
                    {mockAssessments.map((item, index) => (
                      <tr key={index} className="bg-white border-b hover:bg-gray-50">
                        <td className="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">{item.client}</td>
                        <td className="px-6 py-4">{item.caseType}</td>
                        <td className={`px-6 py-4 font-semibold ${priorityStyles[item.priority]}`}>{item.priority}</td>
                        <td className="px-6 py-4">{item.completed}</td>
                        <td className="px-6 py-4">
                          <span className={`px-2 py-1 text-xs font-medium rounded-full ${statusStyles[item.status]}`}>{item.status}</span>
                        </td>
                        <td className="px-6 py-4">
                          <a href="#" className="font-medium text-blue-600 hover:underline">View Report</a>
                        </td>
                      </tr>
                    ))}
                  </tbody>
                </table>
              </div>
            </div>
          );
        };

        // --- Main App Component ---
        function App() {
          return (
            <div className="bg-gray-50 min-h-screen">
              <DashboardHeader />
              <main className="p-6">
                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                  <StatCard 
                    title="Pending Reviews" 
                    value="1" 
                    trend="+1 since yesterday"
                    trendColor="text-orange-600"
                    icon={<ClockIcon />} 
                  />
                  <StatCard 
                    title="Completed This Week" 
                    value="8" 
                    trend="+18% from last week"
                    trendColor="text-green-600"
                    icon={<CheckCircleIcon />} 
                  />
                  <StatCard 
                    title="Active Links" 
                    value="3" 
                    footerText="5 expiring soon"
                    icon={<LinkIcon />} 
                  />
                  <StatCard 
                    title="Avg. Completion Time" 
                    value="12m" 
                    trend="-2m improvement"
                    trendColor="text-green-600"
                    icon={<TimerIcon />} 
                  />
                </div>
                <RecentAssessmentsTable />
              </main>
            </div>
          );
        }

        // --- Render the App to the DOM ---
        const container = document.getElementById('root');
        const root = ReactDOM.createRoot(container);
        root.render(<App />);

    </script>
</body>
</html>
